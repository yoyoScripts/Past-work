<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Past Work</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    * {
      box-sizing: border-box;
      font-family: system-ui, -apple-system, Segoe UI, sans-serif;
    }

    body {
      margin: 0;
      background: #0b0f1a;
      color: #fff;
    }

    .hero {
      padding: 80px 20px 40px;
      text-align: center;
    }

    .hero h1 {
      font-size: 48px;
      margin: 0;
    }

    .hero p {
      opacity: 0.7;
      margin-top: 10px;
      margin-bottom: 30px;
    }

    #search {
      padding: 12px 20px;
      border-radius: 30px;
      border: 1px solid rgba(255, 255, 255, 0.2);
      background: rgba(255, 255, 255, 0.05);
      color: #fff;
      font-size: 16px;
      width: 100%;
      max-width: 400px;
      outline: none;
      transition: border-color 0.2s;
    }

    #search:focus {
      border-color: rgba(255, 255, 255, 0.6);
    }

    section {
      max-width: 1200px;
      margin: auto;
      padding: 40px 20px;
    }

    section h2 {
      font-size: 30px;
      margin-bottom: 20px;
      border-bottom: 1px solid rgba(255,255,255,0.15);
      padding-bottom: 10px;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
    }

    video,
    img,
    iframe {
      width: 100%;
      border-radius: 16px;
      background: #000;
      transition: transform 0.2s ease;
      display: block;
    }
    
    /* Make iframe generic aspect ratio match video players */
    iframe {
      aspect-ratio: 16 / 9;
      border: none;
    }

    video:hover,
    img:hover,
    iframe:hover {
      transform: scale(1.02);
    }
  </style>
</head>
<body>

<header class="hero">
  <h1>Past Work</h1>
  <p>Roblox Studio systems and mechanics Iâ€™ve built</p>
  <input type="text" id="search" placeholder="Search systems..." />
</header>

<main id="portfolio"></main>

<script>
const sections = [
  {
    title: "Simple Systems",
    items: [
      { type: "image", src: "assets/project1.png" }
    ]
  },
  {
    title: "Big systems",
    items: [
      { type: "image", src: "assets/project2.png" }
    ]
  },
  {
    title: "Movement Systems",
    items: [
      { type: "video", src: "assets/movement/dash.mp4" }
    ]
  },
  {
    title: "Combat systems",
    items: [
      // EXAMPLE: This is how you add a YouTube video
      { type: "youtube", src: "https://www.youtube.com/embed/dQw4w9WgXcQ" } 
    ]
  }
];

const portfolio = document.getElementById("portfolio");
const searchInput = document.getElementById("search");

function renderPortfolio(filterText = "") {
  portfolio.innerHTML = "";
  
  const term = filterText.toLowerCase();

  sections.forEach(section => {
    if (section.title.toLowerCase().includes(term)) {
      const sec = document.createElement("section");
      sec.innerHTML = `<h2>${section.title}</h2>`;

      const grid = document.createElement("div");
      grid.className = "grid";

      section.items.forEach(item => {
        if (item.type === "video") {
          // Handle Local MP4
          const vid = document.createElement('video');
          vid.controls = true;
          vid.muted = true;
          vid.loop = true;
          
          const src = document.createElement('source');
          src.src = item.src;
          src.type = 'video/mp4';
          
          vid.appendChild(src);
          grid.appendChild(vid);

        } else if (item.type === "youtube") {
          // Handle YouTube
          const iframe = document.createElement('iframe');
          iframe.src = item.src;
          iframe.allow = "accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture";
          iframe.allowFullscreen = true;
          grid.appendChild(iframe);

        } else {
          // Handle Images
          const img = document.createElement('img');
          img.src = item.src;
          grid.appendChild(img);
        }
      });

      sec.appendChild(grid);
      portfolio.appendChild(sec);
    }
  });
}

searchInput.addEventListener("input", (e) => {
  renderPortfolio(e.target.value);
});

renderPortfolio();
</script>
</body>
</html>
